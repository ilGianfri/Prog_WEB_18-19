<!DOCTYPE html>
<html lang="it">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" media="screen, print" href="style.css"/>
        <!--mappa-->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg==" crossorigin=""></script>
        <title>Gioco d'azzardo - si può smettere</title>
    </head>
    <body>
        <header>
            <div id="header">
                <img src="imgs/logo.jpg" width="200" alt="logo" style="float: left">
                <h1>DIPENDENZA DA GIOCO D'AZZARDO</h1>
            </div>
            <div id="navbar">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="stop.html">Smettere</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a class="active" href="map.html">Mappa</a></li>
                    <li><a href="contactus.html">Contattaci</a></li>
                </ul>
            </div>
    </header>

    <h2>Punti di incontro</h2>
    <h3>Incontra chi può capirti e aiutarti. Il primo passo spetta a te.</h2>
    <div id="mapid">
        <script>
            var mymap = L.map('mapid').setView([45.382644,11.038715], 9);    //finestra della posizione della mappa

            //Codice JavaScript per creare la mappa
            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw',
            {
                maxZoom: 18,
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                id: 'mapbox.streets'
            }).addTo(mymap);//collegare al nostro elemento mymap

            L.marker([45.382644,11.038715]).addTo(mymap).bindPopup("Centro dipendenza gioco d'azzardo");
        </script>
    </div>

    <div id="mapid">
        <button onclick="getLocation()">Trova la tua posizione</button>
    </div>
    
    <script>
        function getLocation()
        {
            if (navigator.geolocation) 
            {
                navigator.geolocation.getCurrentPosition(showPosition);
            }
            else
            { 
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }
        function showPosition(position)
        {
            var youAreHere = L.icon({
                iconUrl: 'imgs/you_are_here.png',
                shadowUrl: 'imgs/you_are_here-shadow.png',
                iconSize:     [25, 25], // size of the icon
                shadowSize:   [40, 40],
            });
	        L.marker([position.coords.latitude,position.coords.longitude], {icon: youAreHere}).addTo(mymap).bindPopup("Ti trovi qui");

            //visualizzare posizione
            //mymap = L.map('mapid').setView([position.coords.latitude,position.coords.longitude], 9);
        }
    </script>

        <!-- <footer>
            <p>Copyright 2019</p>
        </footer> -->
    </body>
</html>